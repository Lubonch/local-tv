<div class="subtitle-control"
     (mouseenter)="onMouseEnter()"
     (mouseleave)="onMouseLeave()">

  @if (hasSubtitles) {
    <button class="cc-button" (click)="toggleSubtitleMenu()" [class.active]="currentSubtitleIndex >= 0">
      CC
    </button>

    @if (showSubtitleMenu) {
      <div class="menu subtitle-menu">
        <div class="menu-item"
             (click)="selectSubtitle(-1)"
             [class.selected]="currentSubtitleIndex === -1">
          Sin subtÃ­tulos
        </div>
        @for (track of subtitleTracks; track track.index) {
          <div class="menu-item"
               (click)="selectSubtitle(track.index)"
               [class.selected]="currentSubtitleIndex === track.index">
            {{ track.label }}
          </div>
        }
      </div>
    }
  }

  @if (hasMultipleAudio) {
    <button class="audio-button" (click)="toggleAudioMenu()">
      ðŸŽµ
    </button>

    @if (showAudioMenu) {
      <div class="menu audio-menu">
        @for (track of audioTracks; track track.index) {
          <div class="menu-item"
               (click)="selectAudio(track.index)"
               [class.selected]="currentAudioIndex === track.index">
            {{ track.label }}
          </div>
        }
      </div>
    }
  }
</div>
